<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OnFilm â€“ Indie Actor Hub</title>

  <style>
    :root{
      --bg:#0b0c0f;
      --panel:#12131a;
      --panel-2:#161824;
      --text:#e7e8ee;
      --muted:#9aa0ad;
      --line:rgba(255,255,255,.08);
      --accent:#7c5cff;
      --accent-2:#24d39a;
      --radius-lg:14px;
      --radius-xl:20px;
      --shadow:0 10px 40px rgba(0,0,0,.55);
    }

    *{box-sizing:border-box;margin:0;padding:0;}
    body{
      font-family:system-ui,-apple-system,"Noto Sans KR",sans-serif;
      background:
              radial-gradient(1200px 600px at 80% -10%, rgba(124,92,255,.20), transparent 65%),
              radial-gradient(900px 500px at 10% 5%, rgba(36,211,154,.12), transparent 60%),
              var(--bg);
      color:var(--text);
    }

    a{text-decoration:none;color:inherit;}
    .container{width:min(1100px,92vw);margin:0 auto;}

    /* HEADER */
    header{
      position:sticky;top:0;z-index:10;
      background:rgba(11,12,15,.88);
      border-bottom:1px solid var(--line);
      backdrop-filter:blur(8px);
    }
    .nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0;gap:20px;}

    .logo{display:flex;align-items:center;gap:8px;font-weight:900;font-size:18px;}
    .logo-mark{
      width:26px;height:26px;border-radius:8px;
      background:conic-gradient(from 220deg,var(--accent),#ff7adf,#ffd36e,var(--accent-2),var(--accent));
      box-shadow:0 0 20px rgba(124,92,255,.4);
    }

    .center-search{flex:1;max-width:500px;margin:0 auto;}
    .search-wrapper{
      background:var(--panel);border:1px solid var(--line);
      display:flex;align-items:center;border-radius:12px;padding:0 12px;
    }
    .search-input{
      flex:1;padding:10px 8px;background:transparent;border:none;color:var(--text);
    }
    .search-input::placeholder{color:var(--muted);}
    .search-btn{
      border:none;background:transparent;color:var(--muted);font-size:16px;cursor:pointer;
    }

    .right-group{display:flex;align-items:center;gap:18px;}
    nav ul{list-style:none;display:flex;gap:18px;font-weight:600;color:var(--muted);}
    nav li.active{color:var(--text);font-weight:800;}

    .avatar{
      width:36px;height:36px;border-radius:50%;
      background:linear-gradient(135deg,#444,#111);border:1px solid var(--line);
    }

    /* HERO */
    .hero-trailer-full{
      width:100vw;position:relative;left:50%;margin-left:-50vw;margin-top:20px;
    }
    .hero-video-container-full{
      position:relative;width:100%;height:620px;overflow:hidden;
    }
    .hero-video-full,.hero-thumbnail{
      position:absolute;inset:0;width:100%;height:100%;object-fit:cover;
    }
    .hero-thumbnail{z-index:2;transition:opacity .3s;}
    .hero-overlay{
      position:absolute;inset:0;z-index:3;
      background:linear-gradient(to top,
      rgba(0,0,0,.85), rgba(0,0,0,.45) 40%, rgba(0,0,0,.1) 70%, rgba(0,0,0,0));
    }

    .hero-left{position:absolute;left:80px;bottom:120px;z-index:6;max-width:460px;}
    .hero-title{font-size:48px;font-weight:900;margin-bottom:12px;}
    .hero-desc{color:var(--muted);font-size:17px;margin-bottom:18px;line-height:1.6;}
    .hero-buttons{display:flex;gap:12px;}
    .btn-play,.btn-info{
      padding:12px 18px;font-weight:900;border:none;cursor:pointer;border-radius:12px;
    }
    .btn-play{background:white;color:black;}
    .btn-info{background:rgba(255,255,255,.25);color:white;}

    .hero-right{
      position:absolute;right:40px;bottom:40px;z-index:6;display:flex;gap:14px;
    }
    .mute-btn{
      width:46px;height:46px;border-radius:50%;
      background:rgba(0,0,0,.55);color:white;border:1px solid rgba(255,255,255,.25);
      cursor:pointer;font-size:18px;
    }
    .age-badge{
      padding:8px 14px;background:rgba(255,0,0,.85);border-radius:8px;
      font-weight:900;
    }

    .full-width-section{
      width:100vw;left:50%;margin-left:-50vw;position:relative;
      padding:0 50px;margin-top:28px;
    }
    .section-title{font-size:18px;font-weight:800;margin-bottom:12px;}

    /* SLIDER */
    .slider-container{position:relative;margin-bottom:40px;}
    .slider-wrapper{overflow-x:hidden;}
    .slider{display:flex;gap:16px;transition:transform .4s;}
    .slider-arrow{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      font-size:48px;
      color:white;
      background:none;
      border:none;
      opacity:0;
      cursor:pointer;
      transition:.25s;
      z-index:999;
      pointer-events: auto;
    }
    .slider-container:hover .slider-arrow{opacity:1;}
    .slider-arrow.left{left:-6px;}
    .slider-arrow.right{right:-6px;}

    /* MOVIE CARD (16:9 ë„·í”Œë¦­ìŠ¤ ì¹´í…Œê³ ë¦¬í˜•) */
    .movie-card{
      width:260px;flex-shrink:0;cursor:pointer;position:relative;
    }
    .movie-thumb{
      width:100%;aspect-ratio:16/9;border-radius:12px;overflow:hidden;
      background:var(--panel);border:1px solid var(--line);
      transition:transform .2s;
    }
    .movie-card:hover .movie-thumb{
      transform:scale(1.03);
    }
    .movie-thumb img{
      width:100%;height:100%;object-fit:cover;display:block;
    }
    .movie-card:hover .movie-thumb img{
      filter:brightness(.75);
      transition:filter .2s ease;
    }
    .movie-body{
      padding:8px 4px 0;font-weight:800;font-size:14px;
      white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    }

    /* POPUP (ë„·í”Œë¦­ìŠ¤ íŒì—…) */
    .movie-popup{
      position:fixed;
      z-index:999;
      width:340px;
      background:var(--panel-2);
      border-radius:14px;
      border:1px solid var(--line);
      box-shadow:0 25px 70px rgba(0,0,0,.85);
      overflow:hidden;

      /* ì´ˆê¸° ìƒíƒœ */
      opacity:0;
      pointer-events:none;
      transform:scale(.7) translateY(20px);
      filter:brightness(.85);

      /* ì• ë‹ˆë©”ì´ì…˜ */
      transition:
              opacity .25s ease,
              transform .25s cubic-bezier(.24,.82,.24,1.4),
              filter .25s ease;
    }
    .movie-popup.show{
      opacity:1;
      pointer-events:auto;
      transform:scale(1) translateY(0);
      filter:brightness(1);
    }

    .popup-video-box{
      position:relative;
      width:100%;
      aspect-ratio:16/9;
      background:black;
      overflow:hidden;
    }
    .popup-video-box video{
      width:100%;
      height:100%;
      object-fit:cover;
    }
    .popup-mute-btn{
      position:absolute;
      bottom:10px;
      right:10px;
      width:42px;
      height:42px;
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;

      background:rgba(0,0,0,.55);
      backdrop-filter:blur(6px);
      border:1px solid rgba(255,255,255,.35);

      color:white;
      font-size:20px;
      cursor:pointer;

      transition:background .2s ease, transform .2s ease;
    }

    .popup-mute-btn:hover{
      background:rgba(255,255,255,.25);
      transform:scale(1.12);
    }

    .popup-info{
      padding:16px;
    }

    .popup-title{
      font-size:19px;
      font-weight:900;
      margin-bottom:6px;
    }

    .popup-meta{
      font-size:14px;
      font-weight:600;
      color:var(--muted);
      display:flex;
      align-items:center;
      gap:6px;
    }

    .popup-age{
      background:rgba(255,0,0,.85);
      padding:4px 8px;
      border-radius:6px;
      font-size:12px;
      font-weight:800;
      color:white;
    }

    .popup-play-btn {
      position: absolute;
      left: 10px;
      bottom: 10px;
      padding: 10px 16px;
      font-size: 16px;
      font-weight: 900;
      border: none;
      border-radius: 8px;
      cursor: pointer;

      background: rgba(255,255,255,0.85);
      color: black;
      transition: background .2s;
      z-index: 20;
    }
    .popup-play-btn:hover {
      background: white;
    }

    .popup-play-btn-circle {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      border: none;

      background: rgba(255,255,255,0.9);
      color: black;
      font-size: 20px;
      font-weight: 900;

      cursor: pointer;
      transition: background .2s, transform .2s;
    }

    .popup-play-btn-circle:hover {
      background: white;
      transform: scale(1.08);
    }

    /* â–¶ ì¬ìƒ ë²„íŠ¼ */
    .popup-play-btn-circle {
      background: rgba(255,255,255,0.9);
      color: black;
    }
    .popup-play-btn-circle:hover {
      background: white;
      transform: scale(1.08);
    }

    /* ğŸ‘ ì¢‹ì•„ìš” ë²„íŠ¼ */
    .popup-like-btn {
      background: rgba(255,255,255,0.2);
      color: var(--text);
    }

    /* ì¢‹ì•„ìš” í™œì„± */
    .popup-like-btn.liked {
      background: rgba(124,92,255,0.9);
      color: white;
      transform: scale(1.15);
    }

    /* ëˆŒë €ì„ ë•Œ ëŠë‚Œ */
    .popup-like-btn:active {
      transform: scale(0.92);
    }

    /* â–¶ ì¬ìƒ ë²„íŠ¼ & ğŸ‘ ì¢‹ì•„ìš” ë²„íŠ¼ì´ ë“¤ì–´ìˆëŠ” ì¤„ */
    .popup-action-row {
      margin-top: 10px;
      display: flex;
      gap: 10px;
      align-items: center;
    }

    /* ë‘ ë²„íŠ¼ì˜ ê³µí†µ ìŠ¤íƒ€ì¼ â†’ ë‹¨ì¼ ì •ì˜ */
    .popup-action-row button {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      border: none;
      padding: 0;
      margin: 0;

      display: flex;
      align-items: center;
      justify-content: center;

      font-size: 20px;
      font-weight: 900;
      cursor: pointer;
      transition:
              background .2s,
              transform .2s cubic-bezier(.2,1.7,.6,1);
    }

    .popup-play-btn-circle span {
      font-size: 20px;
      transform: translateY(1px);
    }

    .popup-like-btn span {
      font-size: 20px;
      transform: translateY(1px);
    }

    /* ACTOR LIST */
    .actor-card{
      width:180px;flex-shrink:0;background:var(--panel);
      border:1px solid var(--line);border-radius:var(--radius-lg);
      overflow:hidden;cursor:pointer;transition:.16s;
    }
    .actor-card:hover{transform:translateY(-3px);}
    .actor-thumb{
      width:100%;height:240px;object-fit:cover;
    }
    .actor-body{padding:10px;}
    .actor-name{font-weight:800;font-size:14px;}

    footer{
      text-align:center;margin:40px 0;padding-top:12px;
      border-top:1px solid var(--line);color:var(--muted);font-size:12px;
    }
  </style>
</head>
<body>

<header>
  <div class="container nav">
    <div class="logo">
      <div class="logo-mark"></div>
      OnFilm
    </div>

    <div class="search-wrapper center-search">
      <input class="search-input" placeholder="ì˜í™”, ë°°ìš° ê²€ìƒ‰â€¦" />
      <button class="search-btn">ğŸ”</button>
    </div>

    <div class="right-group">
      <nav>
        <ul>
          <li class="active">í™ˆ</li>
          <li>ë°°ìš°</li>
          <li>ì˜í™”</li>
        </ul>
      </nav>
      <div class="avatar"></div>
    </div>
  </div>
</header>


<main>

  <!-- ============================
       HERO SECTION
  ============================= -->
  <section class="hero-trailer-full">
    <div class="hero-video-container-full" id="heroArea">

      <video class="hero-video-full" id="heroVideo" muted loop>
        <source src="videos/trailer.mp4" type="video/mp4">
      </video>

      <img src="videos/thumbnail.png" class="hero-thumbnail" id="heroThumb">

      <div class="hero-overlay"></div>

      <div class="hero-left">
        <h1 class="hero-title">ë°˜í’ˆ</h1>
        <p class="hero-desc">ë°˜í’ˆ í•˜ì§€ ë§ˆ ì´ã…†</p>

        <div class="hero-buttons">
          <button class="btn-play">â–¶ ì¬ìƒ</button>
          <button class="btn-info">â„¹ ìƒì„¸ ì •ë³´</button>
        </div>
      </div>

      <div class="hero-right">
        <button class="mute-btn" id="muteBtn">ğŸ”‡</button>
        <div class="age-badge">15</div>
      </div>

    </div>
  </section>




  <!-- ============================
       MOVIE LIST (NETFLIX STYLE)
  ============================= -->
  <section class="full-width-section">
    <h2 class="section-title">ì˜í™” ëª©ë¡</h2>

    <div class="slider-container" id="movieSliderArea">
      <button class="slider-arrow left" id="moviePrev">â€¹</button>

      <div class="slider-wrapper">
        <div class="slider" id="movieSlider">

          <!-- MOVIE #1 -->
          <div class="movie-card"
               data-title="ë°˜í’ˆ"
               data-genre="SF / ìŠ¤ë¦´ëŸ¬"
               data-runtime="148ë¶„"
               data-age="15"
               data-video="videos/trailer.mp4"
               data-thumb="videos/thumbnail.png">

            <div class="movie-thumb">
              <img src="videos/thumbnail.png">
            </div>
            <div class="movie-body">ë°˜í’ˆ</div>
          </div>


          <!-- MOVIE #2 -->
          <div class="movie-card"
               data-title="ë„ì–´ë½"
               data-genre="ìŠ¤ë¦´ëŸ¬"
               data-runtime="102ë¶„"
               data-age="15"
               data-video="videos/trailer.mp4"
               data-thumb="https://images.unsplash.com/photo-1517602302552-471fe67acf66?q=80">

            <div class="movie-thumb">
              <img src="https://images.unsplash.com/photo-1517602302552-471fe67acf66?q=80">
            </div>
            <div class="movie-body">ë„ì–´ë½</div>
          </div>


          <!-- MOVIE #3 -->
          <div class="movie-card"
               data-title="íŒŒì´íŠ¸í´ëŸ½"
               data-genre="ë“œë¼ë§ˆ / ìŠ¤ë¦´ëŸ¬"
               data-runtime="139ë¶„"
               data-age="19"
               data-video="videos/trailer.mp4"
               data-thumb="https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?q=80">

            <div class="movie-thumb">
              <img src="https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?q=80">
            </div>
            <div class="movie-body">íŒŒì´íŠ¸í´ëŸ½</div>
          </div>


          <!-- MOVIE #4 -->
          <div class="movie-card"
               data-title="ë¬¸ë¼ì´íŠ¸"
               data-genre="ë“œë¼ë§ˆ"
               data-runtime="111ë¶„"
               data-age="15"
               data-video="videos/trailer.mp4"
               data-thumb="https://images.unsplash.com/photo-1542204165-65bf26472b9b?q=80">

            <div class="movie-thumb">
              <img src="https://images.unsplash.com/photo-1542204165-65bf26472b9b?q=80">
            </div>
            <div class="movie-body">ë¬¸ë¼ì´íŠ¸</div>
          </div>


          <!-- MOVIE #5 -->
          <div class="movie-card"
               data-title="ë” ë¡œë“œ"
               data-genre="ìŠ¤ë¦´ëŸ¬ / íœ´ë¨¼"
               data-runtime="112ë¶„"
               data-age="15"
               data-video="videos/trailer.mp4"
               data-thumb="https://images.unsplash.com/photo-1502136969935-8d8eef54d77b?q=80">

            <div class="movie-thumb">
              <img src="https://images.unsplash.com/photo-1502136969935-8d8eef54d77b?q=80">
            </div>
            <div class="movie-body">ë” ë¡œë“œ</div>
          </div>

        </div>
      </div>

      <button class="slider-arrow right" id="movieNext">â€º</button>
    </div>

  </section>


  <!-- ============================
       ACTOR LIST
  ============================= -->
  <section class="full-width-section">
    <h2 class="section-title">ìµœê·¼ ì—…ë°ì´íŠ¸ëœ ë°°ìš°</h2>

    <div class="slider-container" id="actorSliderArea">
      <button class="slider-arrow left" id="actorPrev">â€¹</button>

      <div class="slider-wrapper">
        <div class="slider" id="actorSlider">

          <div class="actor-card">
            <img class="actor-thumb" src="videos/bokdol.jpeg">
            <div class="actor-body">
              <div class="actor-name">í—ˆë³µëŒ</div>
            </div>
          </div>

          <div class="actor-card">
            <img class="actor-thumb" src="https://images.unsplash.com/photo-1544725121-4a7c40b15175?q=80">
            <div class="actor-body">
              <div class="actor-name">ê¹€ë°°ìš°</div>
            </div>
          </div>

          <div class="actor-card">
            <img class="actor-thumb" src="https://images.unsplash.com/photo-1544723795-3fb6469f5b39?q=80">
            <div class="actor-body">
              <div class="actor-name">ìµœë°°ìš°</div>
            </div>
          </div>

          <div class="actor-card">
            <img class="actor-thumb" src="https://images.unsplash.com/photo-1512070679279-8988d32161be?q=80">
            <div class="actor-body">
              <div class="actor-name">ì´ë°°ìš°</div>
            </div>
          </div>

        </div>
      </div>

      <button class="slider-arrow right" id="actorNext">â€º</button>
    </div>
  </section>

</main>



<footer>
  Â© 2025 OnFilm Â· Indie Actor & Film Platform
</footer>




<!-- ============================
     JAVASCRIPT
============================ -->
<script>
  const heroArea = document.getElementById("heroArea");
  const heroThumb = document.getElementById("heroThumb");
  const muteBtn = document.getElementById("muteBtn");

  /* --------------------------
     HERO MUTE
  -------------------------- */
  const heroVideo = document.getElementById("heroVideo");
  document.getElementById("muteBtn").onclick = () => {
    heroVideo.muted = !heroVideo.muted;
    muteBtn.textContent = heroVideo.muted ? "ğŸ”‡" : "ğŸ”Š";
  };

  /* HERO HOVER */
  heroArea.addEventListener("mouseenter", () => {
    heroThumb.style.opacity = "0";
    heroVideo.play();
  });
  heroArea.addEventListener("mouseleave", () => {
    heroVideo.pause();
    heroThumb.style.opacity = "1";
  });



  /* --------------------------
     SLIDER (GENERIC)
  -------------------------- */
  function setupSlider(sliderId, prevId, nextId){
    const slider = document.getElementById(sliderId);
    const prev = document.getElementById(prevId);
    const next = document.getElementById(nextId);

    let idx = 0; // í˜„ì¬ "ì²« ì¹´ë“œ ì¸ë±ìŠ¤"

    function cardWidth(){
      const c = slider.children[0];
      if (!c) return 0;
      return c.offsetWidth + 16; // ì¹´ë“œ ê°„ gap 16px
    }

    // í˜„ì¬ í™”ë©´ì—ì„œ ëª‡ ê°œê°€ ë³´ì´ëŠ”ì§€ ê³„ì‚°
    function getVisibleCount() {
      const wrapper = slider.parentElement; // .slider-wrapper
      const cw = cardWidth();
      if (!cw) return 1;
      const count = Math.floor(wrapper.offsetWidth / cw);
      return Math.max(1, count);
    }

    // ì‹¤ì œ ì´ë™ ì²˜ë¦¬
    function goTo(newIdx) {
      const visible = getVisibleCount();
      const maxIdx = Math.max(0, slider.children.length - visible);
      idx = Math.min(Math.max(newIdx, 0), maxIdx);
      slider.style.transform = `translateX(${-idx * cardWidth()}px)`;
    }

    next.onclick = () => {
      const visible = getVisibleCount();
      goTo(idx + visible); // ğŸ‘‰ nê°œë§Œí¼ ì´ë™
    };

    prev.onclick = () => {
      const visible = getVisibleCount();
      goTo(idx - visible); // ğŸ‘‰ nê°œë§Œí¼ ì´ë™
    };

    prev.addEventListener("mouseenter", hidePopup);
    next.addEventListener("mouseenter", hidePopup);

    // ì°½ í¬ê¸° ë³€ê²½ ì‹œì—ë„ ìœ„ì¹˜ ì¬ê³„ì‚°
    window.addEventListener("resize", () => {
      goTo(idx);
    });
  }

  // í˜¸ì¶œë¶€ë„ ì‚´ì§ ë³€ê²½ (visible íŒŒë¼ë¯¸í„° ì œê±°)
  setupSlider("movieSlider", "moviePrev", "movieNext");
  setupSlider("actorSlider", "actorPrev", "actorNext");



  /* --------------------------
     MOVIE POPUP (NETFLIX Aì•ˆ)
  -------------------------- */
  let popup = null;
  let hideTimer = null;
  let activeCard = null;

  function createPopup() {
    popup = document.createElement("div");
    popup.className = "movie-popup";

    popup.innerHTML = `
    <div class="popup-video-box">
      <video muted loop></video>

      <div class="popup-mute-btn">
        <span class="mute-icon">ğŸ”‡</span>
      </div>
    </div>

    <div class="popup-info">
      <div class="popup-title"></div>
      <div class="popup-meta"></div>

      <div class="popup-action-row">
        <button class="popup-play-btn-circle"><span>â–¶</span></button>
        <button class="popup-like-btn"><span>ğŸ‘</span></button>
      </div>
    </div>
  `;

    document.body.appendChild(popup);

    popup.addEventListener("mouseenter", () => {
      if (hideTimer) clearTimeout(hideTimer);
    });

    popup.addEventListener("mouseleave", hidePopup);

    popup.querySelector(".popup-mute-btn").onclick = (e) => {
      e.stopPropagation();
      const v = popup.querySelector("video");
      v.muted = !v.muted;
      popup.querySelector(".mute-icon").textContent = v.muted ? "ğŸ”‡" : "ğŸ”Š";
    };

    popup.querySelector(".popup-play-btn-circle").onclick = (e) => {
      e.stopPropagation();
      window.location.href = "movie-detail.html";
    };

    /* ğŸ‘ ì¢‹ì•„ìš” ë²„íŠ¼ */
    const likeBtn = popup.querySelector(".popup-like-btn");
    likeBtn.onclick = (e) => {
      e.stopPropagation();
      likeBtn.classList.toggle("liked");

      if (likeBtn.classList.contains("liked")) {
        likeBtn.style.transform = "scale(1.25)";
        setTimeout(() => {
          likeBtn.style.transform = "scale(1)";
        }, 250);
      }
    };

    /* íŒì—… ì „ì²´ í´ë¦­ â†’ ìƒì„¸ í˜ì´ì§€ ì´ë™ */
    popup.addEventListener("click", () => {
      window.location.href = "movie-detail.html";
    });
  }


  createPopup();



  function showPopup(card){
    // âŒ ì´ ì¤„ì€ ì‚­ì œ
    // if (window.innerWidth < 768) return;

    if (hideTimer) clearTimeout(hideTimer);
    activeCard = card;

    const rect = card.getBoundingClientRect();
    const videoEl = popup.querySelector("video");

    popup.querySelector(".popup-title").textContent = card.dataset.title;
    popup.querySelector(".popup-meta").innerHTML = `
    ${card.dataset.genre} Â· ${card.dataset.runtime}
    <span class="popup-age">${card.dataset.age}</span>
  `;

    videoEl.src = card.dataset.video;

    // ğŸ’¡ í™”ë©´ì´ ì¢ìœ¼ë©´ íŒì—… í­ì„ í™”ë©´ì— ë§ì¶° ì¡°ì ˆ
    const popupWidth = Math.min(340, window.innerWidth - 20); // ì¢Œìš° 10px ì—¬ë°±
    popup.style.width = popupWidth + "px";

    popup.style.opacity = "0";
    popup.style.transform = "scale(0.7) translateY(20px)";

    let left = rect.left + (rect.width / 2) - (popupWidth / 2);
    let top = rect.top - 10;

    // ì¢Œìš° í™”ë©´ ë°–ìœ¼ë¡œ ë‚˜ê°€ì§€ ì•Šê²Œ ë³´ì •
    if (left < 10) left = 10;
    if (left + popupWidth > window.innerWidth - 10) {
      left = window.innerWidth - popupWidth - 10;
    }

    // ìœ„ë¡œ ë„ˆë¬´ ë‚˜ê°€ë©´ ì¹´ë“œ ì•„ë˜ìª½ì— ë¶™ì´ê¸°
    if (top < 10) {
      top = rect.bottom + 10;
    }

    popup.style.left = `${left}px`;
    popup.style.top = `${top}px`;

    popup.classList.add("show");

    requestAnimationFrame(() => {
      popup.style.opacity = "1";
      popup.style.transform = "scale(1) translateY(0)";
    });

    videoEl.currentTime = 0;
    videoEl.play();
  }

  function hidePopup(){
    hideTimer = setTimeout(() => {
      popup.style.opacity = "0";
      popup.style.transform = "scale(0.85) translateY(10px)";
      popup.querySelector("video").pause();

      setTimeout(() => popup.classList.remove("show"), 180);

      activeCard = null;
    }, 120);
  }



  let popupDelayTimer = null;

  /* ì¹´ë“œ ì´ë²¤íŠ¸ ë“±ë¡ */
  document.querySelectorAll(".movie-card").forEach(card => {
    card.addEventListener("mouseenter", () => {
      popupDelayTimer = setTimeout(() => {
        showPopup(card);
      }, 350); // â† 350ms ì§€ì—° (ì¶”ì²œê°’)
    });

    card.addEventListener("mouseleave", () => {
      clearTimeout(popupDelayTimer); // â† ë§ˆìš°ìŠ¤ ë– ë‚˜ë©´ íŒì—… ì˜ˆì•½ ì·¨ì†Œ
      hidePopup();                   // â† ì´ë¯¸ ë–  ìˆëŠ” íŒì—…ì€ ì¦‰ì‹œ ë‹«ê¸°
    });
  });

  /* ==========================
   MOVIE CARD CLICK â†’ ìƒì„¸ í˜ì´ì§€ ì´ë™
========================== */
  document.querySelectorAll(".movie-card").forEach(card => {
    card.addEventListener("click", () => {
      // 1) ì´ë™í•  ìƒì„¸í˜ì´ì§€ì˜ íŒŒì¼ëª…
      const detailUrl = "movie-detail.html";

      // 2) ì¶”í›„ ì˜í™” id ê¸°ë°˜ ë¼ìš°íŒ…ë„ ê°€ëŠ¥:
      // const movieId = card.dataset.id;
      // location.href = `/movies/${movieId}`;

      window.location.href = detailUrl;
    });
  });

  document.querySelector(".logo").addEventListener("click", () => {
    window.location.href = "main.html";
  });

  document.querySelector(".avatar").addEventListener("click", () => {
    window.location.href = "main.html";
  });

</script>

</body>
</html>