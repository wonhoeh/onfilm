<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ë°°ìš° ìƒì„¸ í˜ì´ì§€ â€“ IndieFilm Actor Hub</title>

    <style>
        :root{
            --bg:#0b0c0f;
            --panel:#12131a;
            --panel-2:#161824;
            --text:#e7e8ee;
            --muted:#9aa0ad;
            --line:rgba(255,255,255,.08);
            --accent:#7c5cff;
            --accent-2:#24d39a;
            --radius-lg:14px;
            --radius-md:10px;
            --radius-xl:20px;
            --shadow:0 10px 40px rgba(0,0,0,.5);
        }

        *{box-sizing:border-box;}
        body{
            margin:0;
            font-family:system-ui,-apple-system,"Noto Sans KR",sans-serif;
            color:var(--text);
            background:
                    radial-gradient(900px 400px at 80% 0%, rgba(124,92,255,.2), transparent 60%),
                    radial-gradient(700px 350px at 10% 10%, rgba(36,211,154,.15), transparent 60%),
                    var(--bg);
        }
        .container{width:min(1100px,92vw); margin:0 auto;}

        /* HEADER */
        header{
            position:sticky; top:0; z-index:10;
            background:rgba(11,12,15,.85);
            backdrop-filter:blur(8px);
            border-bottom:1px solid var(--line);
        }

        nav ul{
            display:flex; list-style:none; gap:18px;
            padding:0; margin:0;
            font-weight:600; color:var(--muted);
        }
        nav li.active{ color:var(--text); font-weight:700; }


        /* PROFILE SECTION */
        .profile-header{
            margin:30px 0 20px;
            display:flex; gap:28px; align-items:center;
        }
        .profile-photo{
            width:220px; height:300px; border-radius:var(--radius-lg);
            object-fit:cover; border:1px solid var(--line);
            box-shadow:var(--shadow);
        }
        .profile-info h1{
            font-size:32px; font-weight:900; margin:0 0 10px;
        }
        .profile-info .meta{
            font-size:14px; color:var(--muted);
            margin-bottom:12px; line-height:1.6;
        }
        .bio{
            font-size:15px; color:var(--muted); line-height:1.7; max-width:70ch;
        }

        /* GALLERY */
        .gallery-section h2{
            font-size:22px;
            font-weight:900;
            margin:40px 0 14px;
        }
        .gallery-grid{
            display:grid;
            grid-template-columns:repeat(3,1fr);
            gap:12px;
        }
        .gallery-item{
            width:100%; aspect-ratio:4/5; border-radius:var(--radius-lg);
            object-fit:cover; background:#0f1117;
            border:1px solid var(--line);
            transition:.15s;
        }
        .gallery-item:hover{
            transform:scale(1.02);
            border-color:var(--accent);
        }

        /* CLEAN MORE BUTTON */
        .gallery-more-btn{
            display:block;
            margin:24px auto 0;
            padding:10px 26px;
            background: var(--panel);
            border:1px solid var(--line);
            border-radius:10px;
            color:var(--text);
            font-size:14px;
            font-weight:700;
            cursor:pointer;
            transition:.15s;
        }

        .gallery-more-btn:hover{
            background:#1b1d27;
            border-color:var(--accent);
        }

        /* FILMOGRAPHY */
        .filmography-section h2{
            font-size:22px; font-weight:900; margin:40px 0 14px;
        }
        .film-grid{
            display:grid; grid-template-columns:repeat(3,1fr);
            gap:20px; margin-top:18px;
        }

        .film-poster{
            width:100%;
            aspect-ratio:16/9;
            /*aspect-ratio:21/9;*/
            object-fit:cover;
        }
        .film-body{ padding:12px; }
        .film-title{ font-size:16px; font-weight:900; }
        .film-meta{ margin-top:6px; font-size:13px; color:var(--muted); }

        /* FILMOGRAPHY SLIDER */
        .film-slider-container{
            position:relative;
            margin-top:20px;
        }

        /* WRAPPER */
        .film-slider-wrapper{
            overflow:hidden;
            position:relative;
        }

        /* SLIDER ROW */
        .film-slider{
            display:flex;
            gap:20px;
            transition:transform .4s ease;
        }

        /* Film Card (ê¸°ì¡´ ìœ ì§€) */
        .film-card{
            min-width: 32%;
            background:var(--panel);
            border:1px solid var(--line);
            border-radius:var(--radius-lg);
            overflow:hidden;
            cursor:pointer;
            transition:.15s;
        }
        .film-card:hover{
            transform:scale(1.015);
            border-color:var(--accent);
        }

        /* ARROW BUTTONS: Netflix style */
        .film-arrow{
            position:absolute;
            top:50%;
            transform:translateY(-50%);
            border:none;
            background:transparent;
            color:white;
            font-size:48px;
            font-weight:300;
            cursor:pointer;
            opacity:0;               /* ê¸°ë³¸ ìˆ¨ê¹€ */
            transition:opacity .3s ease;
            z-index:10;
            padding:0 8px;
        }

        /* Hover ì‹œ ë³´ì´ê¸° */
        .film-slider-container:hover .film-arrow{
            opacity:1;
        }

        /* ì™¼ìª½/ì˜¤ë¥¸ìª½ ìœ„ì¹˜ */
        .film-arrow.left{
            left:-4px;
        }

        .film-arrow.right{
            right:-4px;
        }

        /* Hover ì‹œ ì•½ê°„ ì»¤ì§ */
        .film-arrow:hover{
            color:var(--accent);
            transform:translateY(-50%) scale(1.1);
        }

        footer{
            margin:40px 0 30px;
            padding-top:14px;
            border-top:1px solid var(--line);
            text-align:center;
            font-size:12px; color:var(--muted);
        }

        /* POPUP */

        .movie-popup {
            position: fixed;
            z-index: 999;
            background: var(--panel-2);
            border-radius: 14px;
            border: 1px solid var(--line);
            box-shadow: 0 25px 70px rgba(0,0,0,.85);
            overflow: hidden;

            opacity: 0;
            pointer-events: none;

            transition:
                    opacity .22s ease-out,
                    transform .25s cubic-bezier(.24,.82,.24,1.4),
                    width .25s ease,
                    height .25s ease,
                    top .25s ease,
                    left .25s ease;
        }


        .movie-popup.show{
            opacity:1;
            pointer-events:auto;
            transform:scale(1) translateY(0);
            filter:brightness(1);

        }

        /*1*/
        .popup-video-box {
            position: relative;
            width: 100%;
            height: 62%; /* ê¸°ì¡´ë³´ë‹¤ ë” í° ë¹„ìœ¨ â†’ ì˜ìƒì´ ìœ„ìª½ì— í¬ê²Œ ë³´ì„ */
            background: black;
            overflow: hidden;
        }

        .popup-info{
            /*padding: 6px 6px;*/
            padding: 14px 16px;
        }

        .popup-title{
            font-size:20px;
            font-weight:900;
            margin-bottom:6px;
            line-height: 1.25;
        }

        .popup-meta{
            font-size:13px;
            font-weight:500;
            color:var(--muted);
            margin-bottom:10px;
            display:flex;
            align-items:center;
            gap:6px;
        }

        /* â–¶ ì¬ìƒ ë²„íŠ¼ & ğŸ‘ ì¢‹ì•„ìš” ë²„íŠ¼ì´ ë“¤ì–´ìˆëŠ” ì¤„ */
        .popup-action-row {
            margin-top: 6px;
            display: flex;
            gap: 8px;
            align-items: center;
        }

        /*1*/

        .popup-video-box video{
            width:100%;
            height:100%;
            object-fit:cover;
        }
        .popup-mute-btn{
            position:absolute;
            bottom:10px;
            right:10px;
            width:42px;
            height:42px;
            border-radius:50%;
            display:flex;
            align-items:center;
            justify-content:center;

            background:rgba(0,0,0,.55);
            backdrop-filter:blur(6px);
            border:1px solid rgba(255,255,255,.35);

            color:white;
            font-size:20px;
            cursor:pointer;

            transition:background .2s ease, transform .2s ease;
        }

        .popup-mute-btn:hover{
            background:rgba(255,255,255,.25);
            transform:scale(1.12);
        }







        .popup-age{
            background:rgba(255,0,0,.85);
            padding:4px 8px;
            border-radius:6px;
            font-size:12px;
            font-weight:800;
            color:white;
        }

        .popup-play-btn {
            position: absolute;
            left: 10px;
            bottom: 10px;
            padding: 10px 16px;
            font-size: 16px;
            font-weight: 900;
            border: none;
            border-radius: 8px;
            cursor: pointer;

            background: rgba(255,255,255,0.85);
            color: black;
            transition: background .2s;
            z-index: 20;
        }
        .popup-play-btn:hover {
            background: white;
        }

        .popup-play-btn-circle {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            border: none;

            background: rgba(255,255,255,0.9);
            color: black;
            font-size: 20px;
            font-weight: 900;

            cursor: pointer;
            transition: background .2s, transform .2s;
        }

        .popup-play-btn-circle:hover {
            background: white;
            transform: scale(1.08);
        }

        /* â–¶ ì¬ìƒ ë²„íŠ¼ */
        .popup-play-btn-circle {
            background: rgba(255,255,255,0.9);
            color: black;
        }
        .popup-play-btn-circle:hover {
            background: white;
            transform: scale(1.08);
        }

        /* ğŸ‘ ì¢‹ì•„ìš” ë²„íŠ¼ */
        .popup-like-btn {
            background: rgba(255,255,255,0.2);
            color: var(--text);
        }

        /* ì¢‹ì•„ìš” í™œì„± */
        .popup-like-btn.liked {
            background: rgba(124,92,255,0.9);
            color: white;
            transform: scale(1.15);
        }

        /* ëˆŒë €ì„ ë•Œ ëŠë‚Œ */
        .popup-like-btn:active {
            transform: scale(0.92);
        }



        /* ë‘ ë²„íŠ¼ì˜ ê³µí†µ ìŠ¤íƒ€ì¼ â†’ ë‹¨ì¼ ì •ì˜ */
        .popup-action-row button {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: none;
            padding: 0;
            margin: 0;

            display: flex;
            align-items: center;
            justify-content: center;

            font-size: 20px;
            font-weight: 900;
            cursor: pointer;
            transition:
                    background .2s,
                    transform .2s cubic-bezier(.2,1.7,.6,1);
        }

        .popup-play-btn-circle span {
            font-size: 20px;
            transform: translateY(1px);
        }

        .popup-like-btn span {
            font-size: 20px;
            transform: translateY(1px);
        }

    </style>
</head>
<body>

<main class="container">

    <!-- PROFILE -->
    <div class="profile-header">
        <img class="profile-photo" src="https://images.unsplash.com/photo-1541647376583-8934aaf3448a?q=80&w=900">

        <div class="profile-info">
            <h1>Leonardo DiCaprio</h1>
            <div class="meta">
                1974.11.11 Â· ë¯¸êµ­ ì¶œìƒ<br>
                ì†Œì†ì‚¬: xxx ì—”í„°í…Œì¸ë¨¼íŠ¸
            </div>
            <p class="bio">
                ê°•ë ¬í•œ ì—°ê¸°ë ¥ê³¼ ë…ì°½ì ì¸ ìºë¦­í„° í•´ì„ìœ¼ë¡œ ì‚¬ë‘ë°›ëŠ” ë°°ìš°.
                ë…ë¦½ì˜í™”ì™€ ì˜ˆìˆ ì˜í™”ì—ì„œë„ ë‹¤ì–‘í•œ ëª¨ìŠµì„ ë³´ì—¬ì£¼ë©°
                ì˜í™”ê³„ ì „ë°˜ì— í° ì˜í–¥ì„ ë¯¸ì¹˜ê³  ìˆìŠµë‹ˆë‹¤.
            </p>
        </div>
    </div>


    <!-- FILMOGRAPHY -->
    <section class="filmography-section">
        <h2>í•„ëª¨ê·¸ë˜í”¼</h2>

        <div class="film-slider-container">

            <!-- ì™¼ìª½ í™”ì‚´í‘œ -->
            <button class="film-arrow left" id="filmPrevBtn">â€¹</button>

            <div class="film-slider-wrapper">
                <div class="film-slider" id="filmSlider">

                    <!-- í•„ë¦„ ì¹´ë“œ 1 -->
                    <article class="film-card"
                             data-title="ë°˜í’ˆ"
                             data-genre="SF / ìŠ¤ë¦´ëŸ¬"
                             data-runtime="148ë¶„"
                             data-age="15"
                             data-video="videos/trailer.mp4"
                             data-thumb="videos/thumbnail.png">
                        <img class="film-poster" src="videos/thumbnail.png">
                        <div class="film-body">
                            <div class="film-title">ë°˜í’ˆ</div>
                            <div class="film-meta">2025 Â· ì£¼ì—° (ì¤‘bb)</div>
                        </div>
                    </article>

                    <!-- í•„ë¦„ ì¹´ë“œ 2 -->
                    <article class="film-card">
                        <img class="film-poster" src="https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?q=80&w=900">
                        <div class="film-body">
                            <div class="film-title">íŒŒì´íŠ¸í´ëŸ½</div>
                            <div class="film-meta">1999 Â· íŠ¹ë³„ì¶œì—°</div>
                        </div>
                    </article>

                    <!-- í•„ë¦„ ì¹´ë“œ 3 -->
                    <article class="film-card">
                        <img class="film-poster" src="https://images.unsplash.com/photo-1517602302552-471fe67acf66?q=80&w=900">
                        <div class="film-body">
                            <div class="film-title">ë„ì–´ë½</div>
                            <div class="film-meta">2019 Â· ì¡°ì—°</div>
                        </div>
                    </article>

                    <!-- í•„ë¦„ ì¹´ë“œ 4 -->
<!--                    <article class="film-card">-->
<!--                        <img class="film-poster" src="https://images.unsplash.com/photo-1542204165-65bf26472b9b?q=80&w=900">-->
<!--                        <div class="film-body">-->
<!--                            <div class="film-title">ë¬¸ë¼ì´íŠ¸</div>-->
<!--                            <div class="film-meta">2016 Â· ì¡°ì—°</div>-->
<!--                        </div>-->
<!--                    </article>-->

                    <!-- í•„ë¦„ ì¹´ë“œ 5 -->
<!--                    <article class="film-card">-->
<!--                        <img class="film-poster" src="https://images.unsplash.com/photo-1552058544-f2b08422138a?q=80&w=900">-->
<!--                        <div class="film-body">-->
<!--                            <div class="film-title">ë¦¬ë²„ í”¼ë‹‰ìŠ¤</div>-->
<!--                            <div class="film-meta">2004 Â· ì¶œì—°</div>-->
<!--                        </div>-->
<!--                    </article>-->

                    <!-- í•„ë¦„ ì¹´ë“œ 6 -->
<!--                    <article class="film-card">-->
<!--                        <img class="film-poster" src="https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?q=80&w=900">-->
<!--                        <div class="film-body">-->
<!--                            <div class="film-title">ë‹¤í¬ ë‚˜ì´íŠ¸</div>-->
<!--                            <div class="film-meta">2008 Â· ì¶œì—°</div>-->
<!--                        </div>-->
<!--                    </article>-->

                </div>
            </div>

            <!-- ì˜¤ë¥¸ìª½ í™”ì‚´í‘œ!! -->
            <button class="film-arrow right" id="filmNextBtn">â€º</button>

        </div>
    </section>

    <!-- GALLERY -->
    <section class="gallery-section">
        <h2>ì‚¬ì§„ ê°¤ëŸ¬ë¦¬</h2>

        <div class="gallery-grid">

            <!-- ê¸°ë³¸ 6ê°œ -->
            <img class="gallery-item" src="https://images.unsplash.com/photo-1512070679279-8988d32161be?q=80&w=900">
            <img class="gallery-item" src="https://images.unsplash.com/photo-1542204165-65bf26472b9b?q=80&w=900">
            <img class="gallery-item" src="https://images.unsplash.com/photo-1552058544-f2b08422138a?q=80&w=900">
            <img class="gallery-item" src="https://images.unsplash.com/photo-1544725121-4a7c40b15175?q=80&w=900">
            <img class="gallery-item" src="https://images.unsplash.com/photo-1544723795-3fb6469f5b39?q=80&w=900">
            <img class="gallery-item" src="https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?q=80&w=900">

            <!-- ì¶”ê°€ ì´ë¯¸ì§€ (ì´ˆê¸° ìˆ¨ê¹€) -->
            <img class="gallery-item gallery-extra" style="display:none;"
                 src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?q=80&w=900">
            <img class="gallery-item gallery-extra" style="display:none;"
                 src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?q=80&w=900">
            <img class="gallery-item gallery-extra" style="display:none;"
                 src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?q=80&w=900">
        </div>

        <button class="gallery-more-btn" id="galleryMoreBtn">ë”ë³´ê¸°</button>
    </section>

    <footer>
        Â© 2025 OnFilm Â· Indie Actor & Film Platform
    </footer>

</main>

<!-- ============================
     Simple JS for More Button
=============================== -->
<script>
    const moreBtn = document.getElementById("galleryMoreBtn");
    const extraImages = document.querySelectorAll(".gallery-extra");
    let expanded = false;

    moreBtn.addEventListener("click", () => {
        expanded = !expanded;

        extraImages.forEach(img => {
            img.style.display = expanded ? "block" : "none";
        });

        moreBtn.textContent = expanded ? "ì ‘ê¸°" : "ë”ë³´ê¸°";
    });
</script>

<!-- ============================
     Filmography Slide Button
=============================== -->

<script>
    const slider = document.getElementById("filmSlider");
    const prevBtn = document.getElementById("filmPrevBtn");
    const nextBtn = document.getElementById("filmNextBtn");

    let index = 0;

    function getCardWidth(){
        const card = slider.children[0];
        const style = window.getComputedStyle(card);
        const marginRight = parseInt(style.marginRight);
        return card.offsetWidth + marginRight + 20; // ì¹´ë“œ + gap ë³´ì •
    }

    function updateSlider(){
        slider.style.transform = `translateX(${-getCardWidth() * index}px)`;
    }

    nextBtn.addEventListener("click", () => {
        const maxIndex = slider.children.length - 3;
        if(index < maxIndex){
            index++;
            updateSlider();
        }
    });

    prevBtn.addEventListener("click", () => {
        if(index > 0){
            index--;
            updateSlider();
        }
    });

    /* --------------------------
     MOVIE POPUP (NETFLIX Aì•ˆ)
  -------------------------- */
    let popup = null;
    let hideTimer = null;
    let activeCard = null;

    function createPopup() {
        popup = document.createElement("div");
        popup.className = "movie-popup";

        popup.innerHTML = `
        <div class="popup-video-box">
          <video muted loop></video>

          <div class="popup-mute-btn">
            <svg class="popup-sound-on" xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                 width="26" height="26" style="display:none;">
              <path stroke-linecap="round" stroke-linejoin="round"
                    d="M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25
                    l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51
                    c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396
                    C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"/>
            </svg>

            <svg class="popup-sound-off" xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                 width="26" height="26">
              <path stroke-linecap="round" stroke-linejoin="round"
                    d="M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6
                    4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51
                    c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396
                    C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"/>
            </svg>
          </div>
        </div>

        <div class="popup-info">
          <div class="popup-title"></div>
          <div class="popup-meta"></div>

          <div class="popup-action-row">
            <button class="popup-play-btn-circle"><span>â–¶</span></button>
            <button class="popup-like-btn"><span>ğŸ‘</span></button>
          </div>
        </div>
        `;

        document.body.appendChild(popup);

        popup.addEventListener("mouseenter", () => {
            if (hideTimer) clearTimeout(hideTimer);
        });

        popup.addEventListener("mouseleave", hidePopup);

        popup.querySelector(".popup-mute-btn").onclick = (e) => {
            e.stopPropagation();

            const v = popup.querySelector("video");
            const soundOn = popup.querySelector(".popup-sound-on");
            const soundOff = popup.querySelector(".popup-sound-off");

            v.muted = !v.muted;

            if (v.muted) {
                soundOn.style.display = "none";
                soundOff.style.display = "block";
            } else {
                soundOn.style.display = "block";
                soundOff.style.display = "none";
            }
        };

        popup.querySelector(".popup-play-btn-circle").onclick = (e) => {
            e.stopPropagation();
            sessionStorage.setItem("allowSoundPlay", "true");
            window.location.href = "video-player-temp.html";
        };

        /* ğŸ‘ ì¢‹ì•„ìš” ë²„íŠ¼ */
        const likeBtn = popup.querySelector(".popup-like-btn");
        likeBtn.onclick = (e) => {
            e.stopPropagation();
            likeBtn.classList.toggle("liked");

            if (likeBtn.classList.contains("liked")) {
                likeBtn.style.transform = "scale(1.25)";
                setTimeout(() => {
                    likeBtn.style.transform = "scale(1)";
                }, 250);
            }
        };

        /* íŒì—… ì „ì²´ í´ë¦­ â†’ ìƒì„¸ í˜ì´ì§€ ì´ë™ */
        popup.addEventListener("click", () => {
            window.location.href = "movie-detail.html";
        });
    }
    createPopup();


    function showPopup(card){
        if (hideTimer) clearTimeout(hideTimer);
        activeCard = card;

        const rect = card.getBoundingClientRect();
        const videoEl = popup.querySelector("video");

        // í…ìŠ¤íŠ¸ & ë¹„ë””ì˜¤ ì„¤ì •
        popup.querySelector(".popup-title").textContent = card.dataset.title ?? "";
        popup.querySelector(".popup-meta").innerHTML = `
        ${card.dataset.genre ?? ""} Â· ${card.dataset.runtime ?? ""}
        <span class="popup-age">${card.dataset.age ?? ""}</span>
    `;
        videoEl.src = card.dataset.video;

        /* 1) íŒì—… ì´ˆê¸° í¬ê¸° = ì¹´ë“œ í¬ê¸° */
        popup.style.width = rect.width + "px";
        popup.style.height = rect.height + "px";

        /* 2) ì´ˆê¸° ìœ„ì¹˜ = ì¹´ë“œ ìœ„ì¹˜ */
        popup.style.left = rect.left + "px";
        popup.style.top  = rect.top + "px";

        /* 3) ì¹´ë“œ ì¤‘ì‹¬ì„ ê¸°ì¤€ìœ¼ë¡œ í™•ì¥ë˜ë„ë¡ */
        popup.style.transformOrigin = "top center";

        /* 4) ì´ˆê¸° ìƒíƒœ */
        popup.style.opacity = "0";
        popup.style.transform = "scale(0.92)";

        popup.classList.add("show");

        /* --------------------------
           ìµœì¢… íŒì—… í¬ê¸° ê³„ì‚° (ë™ì )
           ì¿ íŒ¡ í”Œë ˆì´ ëŠë‚Œìœ¼ë¡œ ì‚´ì§ í™•ëŒ€
        --------------------------- */
        const enlargedWidth  = rect.width * 1.22;  // 22% í™•ì¥
        const enlargedHeight = rect.height * 1.42; // 42% í™•ì¥ (ì˜ìƒ ë¶€ë¶„ í¬ê²Œ)

        const finalTop = rect.top - rect.height * 0.18; // íŒì—…ì„ ìœ„ë¡œ ì´ë™

        requestAnimationFrame(() => {
            popup.style.opacity = "1";

            popup.style.width  = enlargedWidth + "px";
            popup.style.height = enlargedHeight + "px";

            popup.style.left = (rect.left - (enlargedWidth - rect.width) / 2) + "px";
            popup.style.top  = finalTop + "px";

            popup.style.transform = "scale(1)";
        });

        videoEl.currentTime = 0;
        videoEl.play();
    }


    function hidePopup(){
        hideTimer = setTimeout(() => {
            popup.style.opacity = "0";
            popup.style.transform = "scale(0.85) translateY(10px)";
            popup.querySelector("video").pause();

            setTimeout(() => popup.classList.remove("show"), 180);

            activeCard = null;
        }, 120);
    }

    document.querySelectorAll(".film-card").forEach(card => {
        // ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ íŒì—… ë³´ì—¬ì£¼ê¸°
        card.addEventListener("mouseenter", () => {
            showPopup(card);
        });

        // ì¹´ë“œì—ì„œ ë§ˆìš°ìŠ¤ ë²—ì–´ë‚˜ë©´ ìˆ¨ê¹€ ì˜ˆì•½
        card.addEventListener("mouseleave", () => {
            hidePopup();
        });
    });

    /* =====================
   SCROLL â†’ POPUP HIDE
===================== */

    // ë§ˆìš°ìŠ¤ íœ  ìŠ¤í¬ë¡¤
    window.addEventListener("wheel", () => {
        if (activeCard) hidePopupImmediate();
    });

    // íŠ¸ë™íŒ¨ë“œ ìŠ¤í¬ë¡¤
    window.addEventListener("scroll", () => {
        if (activeCard) hidePopupImmediate();
    });

    // ëª¨ë°”ì¼ í„°ì¹˜ ë“œë˜ê·¸
    window.addEventListener("touchmove", () => {
        if (activeCard) hidePopupImmediate();
    });

    // ì¦‰ì‹œ ìˆ¨ê¸°ëŠ” í•¨ìˆ˜ (ë”œë ˆì´ ì—†ì´)
    function hidePopupImmediate() {
        if (!popup) return;

        popup.style.opacity = "0";
        popup.style.transform = "scale(0.85) translateY(10px)";
        popup.querySelector("video").pause();
        popup.classList.remove("show");

        activeCard = null;
        if (hideTimer) clearTimeout(hideTimer);
    }

</script>

</body>
</html>
